import{c as X,r as Y,a as Z,j as s}from"./app-BqBTxJm9.js";import{B as P}from"./app-logo-icon-DeL0VH88.js";import{I as G}from"./input-C3wYJFta.js";import{A as ee}from"./app-layout-BOomczsQ.js";/* empty css            */import"./index-DCK0jGfk.js";import"./index-VGtFTOCT.js";import"./index-C4J_hXM0.js";function me(a){const e=X.c(51),{guru:R,kelas:k}=a,H=R===void 0?[]:R;let v;e[0]!==k?(v=k===void 0?[]:k,e[0]=k,e[1]=v):v=e[1];const K=v,[N,T]=Y.useState(null);let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={nama_guru:"",Mengajar:"",kelas_id:""},e[2]=S):S=e[2];const{data:r,setData:l,post:$,put:w,delete:L,reset:y}=Z(S);let M;e[3]!==N||e[4]!==$||e[5]!==w||e[6]!==y?(M=t=>{t.preventDefault(),N?w(`/guru/${N}`,{onSuccess:()=>{y(),T(null)}}):$("/guru",{onSuccess:()=>y()})},e[3]=N,e[4]=$,e[5]=w,e[6]=y,e[7]=M):M=e[7];const A=M,O=t=>{T(t.id),l("nama_guru",t.nama_guru),l("Mengajar",t.Mengajar),l("kelas_id",String(t.kelas_id))},U=H.reduce(te,{});let C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=[{title:"Guru",href:"/guru"}],e[8]=C):C=e[8];const D=C,z=ee,q="space-y-6 p-6";let n;e[9]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("h1",{className:"text-2xl font-semibold",children:"Data guru"}),e[9]=n):n=e[9];let i;e[10]!==l?(i=t=>l("nama_guru",t.target.value),e[10]=l,e[11]=i):i=e[11];let c;e[12]!==r.nama_guru||e[13]!==i?(c=s.jsx(G,{placeholder:"Nama guru",value:r.nama_guru,onChange:i}),e[12]=r.nama_guru,e[13]=i,e[14]=c):c=e[14];let o;e[15]!==l?(o=t=>l("Mengajar",t.target.value),e[15]=l,e[16]=o):o=e[16];let d;e[17]!==r.Mengajar||e[18]!==o?(d=s.jsx(G,{placeholder:"Mengajar",value:r.Mengajar,onChange:o}),e[17]=r.Mengajar,e[18]=o,e[19]=d):d=e[19];const J=r.kelas_id;let u;e[20]!==l?(u=t=>l("kelas_id",t.target.value),e[20]=l,e[21]=u):u=e[21];let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("option",{value:"",children:"Pilih Kelas"}),e[22]=E):E=e[22];let m;e[23]!==K?(m=K.map(se),e[23]=K,e[24]=m):m=e[24];let x;e[25]!==r.kelas_id||e[26]!==u||e[27]!==m?(x=s.jsxs("select",{className:"rounded-xl border bg-black px-2",value:J,onChange:u,children:[E,m]}),e[25]=r.kelas_id,e[26]=u,e[27]=m,e[28]=x):x=e[28];const B=N?"Update":"Tambah";let f;e[29]!==B?(f=s.jsx(P,{type:"submit",children:B}),e[29]=B,e[30]=f):f=e[30];let h;e[31]!==A||e[32]!==c||e[33]!==d||e[34]!==x||e[35]!==f?(h=s.jsxs("form",{onSubmit:A,className:"grid max-w-4xl grid-cols-5 gap-2",children:[c,d,x,f]}),e[31]=A,e[32]=c,e[33]=d,e[34]=x,e[35]=f,e[36]=h):h=e[36];const Q="relative flex-1 overflow-x-auto rounded-xl border border-sidebar-border/70 p-4",V="w-full border-collapse";let p;e[37]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"p-2 text-left",children:"No"}),s.jsx("th",{className:"p-2 text-left",children:"Nama"}),s.jsx("th",{className:"p-2 text-left",children:"Mengajar"}),s.jsx("th",{className:"p-2 text-left",children:"Kelas"}),s.jsx("th",{className:"p-2 text-left",children:"Aksi"})]})}),e[37]=p):p=e[37];const F=Object.values(U).map((t,le)=>s.jsxs(s.Fragment,{children:[s.jsx("tr",{className:"bg-slate-900 font-semibold",children:s.jsxs("td",{colSpan:5,className:"p-3",children:["Kelas: ",t[0].kelas.nama_kelas]})},`kelas-${t[0].kelas.id}`),t.map((_,W)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2 text-left",children:W+1}),s.jsx("td",{className:"p-2 text-left",children:_.nama_guru}),s.jsx("td",{className:"p-2 text-left",children:_.Mengajar}),s.jsx("td",{className:"p-2 text-left",children:_.kelas.nama_kelas}),s.jsxs("td",{className:"space-x-2 p-2 text-left",children:[s.jsx(P,{size:"sm",onClick:()=>O(_),children:"Edit"}),s.jsx(P,{size:"sm",variant:"destructive",onClick:()=>L(`/guru/${_.id}`),children:"Hapus"})]})]},_.id))]}));let j;e[38]!==F?(j=s.jsx("tbody",{children:F}),e[38]=F,e[39]=j):j=e[39];let g;e[40]!==p||e[41]!==j?(g=s.jsx("div",{className:Q,children:s.jsxs("table",{className:V,children:[p,j]})}),e[40]=p,e[41]=j,e[42]=g):g=e[42];let b;e[43]!==h||e[44]!==g||e[45]!==n?(b=s.jsxs("div",{className:q,children:[n,h,g]}),e[43]=h,e[44]=g,e[45]=n,e[46]=b):b=e[46];let I;return e[47]!==z||e[48]!==D||e[49]!==b?(I=s.jsx(z,{breadcrumbs:D,children:b}),e[47]=z,e[48]=D,e[49]=b,e[50]=I):I=e[50],I}function se(a){return s.jsx("option",{value:a.id,children:a.nama_kelas},a.id)}function te(a,e){return e.kelas&&(a[e.kelas.id]||(a[e.kelas.id]=[]),a[e.kelas.id].push(e)),a}export{me as default};
