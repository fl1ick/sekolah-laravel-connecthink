import{c as Q,r as V,a as W,j as a}from"./app-BXOrhagO.js";import{B as U}from"./app-logo-icon-epEUapaX.js";import{I as q}from"./input-DcOWgcuq.js";import{A as X}from"./app-layout-BT2d0ndC.js";/* empty css            */import"./index-EwKqXgLF.js";import"./index-DzKBDFMz.js";import"./index-C4J_hXM0.js";function ne(g){const e=Q.c(60),{siswa:v,kelas:k}=g;let S;e[0]!==v?(S=v===void 0?[]:v,e[0]=v,e[1]=S):S=e[1];const L=S;let y;e[2]!==k?(y=k===void 0?[]:k,e[2]=k,e[3]=y):y=e[3];const R=y,[b,G]=V.useState(null);let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C={nama_siswa:"",alamat:"",tanggal_lahir:"",kelas_id:""},e[4]=C):C=e[4];const{data:s,setData:l,post:T,put:F,delete:N,reset:A}=W(C);let E;e[5]!==b||e[6]!==T||e[7]!==F||e[8]!==A?(E=t=>{t.preventDefault(),b?F(`/siswa/${b}`,{onSuccess:()=>{A(),G(null)}}):T("/siswa",{onSuccess:()=>A()})},e[5]=b,e[6]=T,e[7]=F,e[8]=A,e[9]=E):E=e[9];const H=E;let I;e[10]!==l?(I=t=>{G(t.id),l("nama_siswa",t.nama_siswa),l("alamat",t.alamat),l("tanggal_lahir",t.tanggal_lahir),l("kelas_id",String(t.kelas_id))},e[10]=l,e[11]=I):I=e[11];const w=I;let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=[{title:"Siswa",href:"/siswa"}],e[12]=D):D=e[12];const J=D;let $;e[13]===Symbol.for("react.memo_cache_sentinel")?($=a.jsx("h1",{className:"text-2xl font-semibold",children:"Data Siswa"}),e[13]=$):$=e[13];let r;e[14]!==l?(r=t=>l("nama_siswa",t.target.value),e[14]=l,e[15]=r):r=e[15];let n;e[16]!==s.nama_siswa||e[17]!==r?(n=a.jsx(q,{placeholder:"Nama Siswa",value:s.nama_siswa,onChange:r}),e[16]=s.nama_siswa,e[17]=r,e[18]=n):n=e[18];let c;e[19]!==l?(c=t=>l("alamat",t.target.value),e[19]=l,e[20]=c):c=e[20];let o;e[21]!==s.alamat||e[22]!==c?(o=a.jsx(q,{placeholder:"Alamat",value:s.alamat,onChange:c}),e[21]=s.alamat,e[22]=c,e[23]=o):o=e[23];let d;e[24]!==l?(d=t=>l("tanggal_lahir",t.target.value),e[24]=l,e[25]=d):d=e[25];let m;e[26]!==s.tanggal_lahir||e[27]!==d?(m=a.jsx(q,{type:"date",value:s.tanggal_lahir,onChange:d}),e[26]=s.tanggal_lahir,e[27]=d,e[28]=m):m=e[28];const M=s.kelas_id;let h;e[29]!==l?(h=t=>l("kelas_id",t.target.value),e[29]=l,e[30]=h):h=e[30];let z;e[31]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx("option",{className:"text-gray-800",value:"",children:"Pilih Kelas"}),e[31]=z):z=e[31];let x;e[32]!==R?(x=R.map(Y),e[32]=R,e[33]=x):x=e[33];let f;e[34]!==s.kelas_id||e[35]!==h||e[36]!==x?(f=a.jsxs("select",{className:"border rounded px-2 border-",value:M,onChange:h,children:[z,x]}),e[34]=s.kelas_id,e[35]=h,e[36]=x,e[37]=f):f=e[37];const P=b?"Update":"Tambah";let p;e[38]!==P?(p=a.jsx(U,{type:"submit",children:P}),e[38]=P,e[39]=p):p=e[39];let u;e[40]!==H||e[41]!==n||e[42]!==o||e[43]!==m||e[44]!==f||e[45]!==p?(u=a.jsxs("form",{onSubmit:H,className:"grid grid-cols-5 gap-2 max-w-4xl",children:[n,o,m,f,p]}),e[40]=H,e[41]=n,e[42]=o,e[43]=m,e[44]=f,e[45]=p,e[46]=u):u=e[46];let B;e[47]===Symbol.for("react.memo_cache_sentinel")?(B=a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-2",children:"No"}),a.jsx("th",{className:"text-left p-2",children:"Nama"}),a.jsx("th",{className:"text-left p-2",children:"Alamat"}),a.jsx("th",{className:"text-left p-2",children:"Tgl Lahir"}),a.jsx("th",{className:"text-left p-2",children:"Kelas"}),a.jsx("th",{className:"text-left p-2",children:"Aksi"})]})}),e[47]=B):B=e[47];let _;if(e[48]!==N||e[49]!==w||e[50]!==L){let t;e[52]!==N||e[53]!==w?(t=(i,O)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-left p-2",children:O+1}),a.jsx("td",{className:"text-left p-2",children:i.nama_siswa}),a.jsx("td",{className:"text-left p-2",children:i.alamat}),a.jsx("td",{className:"text-left p-2",children:i.tanggal_lahir}),a.jsx("td",{className:"text-left p-2",children:i.kelas?.nama_kelas}),a.jsxs("td",{className:"text-left p-2 space-x-2",children:[a.jsx(U,{size:"sm",onClick:()=>w(i),children:"Edit"}),a.jsx(U,{size:"sm",variant:"destructive",onClick:()=>N(`/siswa/${i.id}`),children:"Hapus"})]})]},i.id),e[52]=N,e[53]=w,e[54]=t):t=e[54],_=L.map(t),e[48]=N,e[49]=w,e[50]=L,e[51]=_}else _=e[51];let j;e[55]!==_?(j=a.jsx("div",{className:"relative flex-1 overflow-x-auto rounded-xl border border-sidebar-border/70 p-4",children:a.jsxs("table",{className:"w-full border-collapse ",children:[B,a.jsx("tbody",{children:_})]})}),e[55]=_,e[56]=j):j=e[56];let K;return e[57]!==u||e[58]!==j?(K=a.jsx(X,{breadcrumbs:J,children:a.jsxs("div",{className:"p-6 space-y-6",children:[$,u,j]})}),e[57]=u,e[58]=j,e[59]=K):K=e[59],K}function Y(g){return a.jsx("option",{value:g.id,children:g.nama_kelas},g.id)}export{ne as default};
